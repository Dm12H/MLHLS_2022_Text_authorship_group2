<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="../stat/style.css">
    <meta charset="UTF-8">
    <title>Prediction results</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<div class="wrapper">
    <h2> Most similar author is: </h2>
    <form action="/record_answer/" method="post" enctype="multipart/form-data" id="taform">
            <div class="buttons_container">
                <a> {{author_name}}  </a>
                <button class="form_button" type="submit" name="answer" value="correct"> correct  </button>
                <button class="form_button" type="submit" name="answer" value="wrong"> wrong </button>
            </div>
    </form>
    <div>
        <button class="return_button" onclick="history.back()"> Return </button>
        <button id="collapse_button" class="collapsible">
            Show probabilities
        </button>
    </div>
    <div id="predictions"></div>
<script>
    var collapsible = document.getElementById("collapse_button");
    collapsible.addEventListener("click", function() {
        var content = document.getElementById("predictions");
        if (content.style.display === "block") {
            content.style.display = "none";
        } else {
            content.style.display = "block";
        }
    });
</script>
<script>
    var plotly_data = {{barplot | safe}};
    var graphdiv = document.getElementById("predictions");
    Plotly.newPlot(
        graphdiv,
        plotly_data.data,
        plotly_data.layout,
        {staticPlot: true});
</script>
</body>
</html>